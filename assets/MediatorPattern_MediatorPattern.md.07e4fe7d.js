import{_ as n,c as s,o as a,a as t}from"./app.ae9771e3.js";const h='{"title":"\u4E2D\u4ECB\u6A21\u5F0F/\u4E2D\u95F4\u4EF6\u6A21\u5F0F","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u7B80\u4ECB","slug":"\u7B80\u4ECB"},{"level":2,"title":"\u5B9E\u73B0","slug":"\u5B9E\u73B0"},{"level":2,"title":"Express.js","slug":"express-js"},{"level":2,"title":"\u603B\u7ED3","slug":"\u603B\u7ED3"}],"relativePath":"MediatorPattern/MediatorPattern.md","lastUpdated":1653887490000}',p={},o=t(`<h1 id="\u4E2D\u4ECB\u6A21\u5F0F-\u4E2D\u95F4\u4EF6\u6A21\u5F0F" tabindex="-1">\u4E2D\u4ECB\u6A21\u5F0F/\u4E2D\u95F4\u4EF6\u6A21\u5F0F <a class="header-anchor" href="#\u4E2D\u4ECB\u6A21\u5F0F-\u4E2D\u95F4\u4EF6\u6A21\u5F0F" aria-hidden="true">#</a></h1><blockquote><p>\u4F7F\u7528\u4E2D\u4ECB\u5BF9\u8C61\u5904\u7406\u7EC4\u4EF6\u4E4B\u95F4\u7684\u901A\u4FE1</p></blockquote><h2 id="\u7B80\u4ECB" tabindex="-1">\u7B80\u4ECB <a class="header-anchor" href="#\u7B80\u4ECB" aria-hidden="true">#</a></h2><p>\u4E2D\u4ECB\u6A21\u5F0F\u4F7F\u5F97\u7EC4\u4EF6\u53EF\u4EE5\u901A\u8FC7\u4E00\u4E2A\u4E2D\u5FC3\u70B9(\u4E2D\u4ECB)\u76F8\u4E92\u4EA4\u4E92\u3002\u4E2D\u4ECB\u63A5\u6536\u8BF7\u6C42\u5E76\u8F6C\u53D1\u5B83\u4EEC\uFF0C\u800C\u4E0D\u662F\u76F4\u63A5\u76F8\u4E92\u901A\u4FE1!\u5728JavaScript\u4E2D\uFF0C\u4E2D\u4ECB\u901A\u5E38\u53EA\u662F\u4E00\u4E2A\u5BF9\u8C61\u5B57\u9762\u91CF\u6216\u4E00\u4E2A\u51FD\u6570</p><p>\u5982\u679C\u6211\u4EEC\u7EC4\u4EF6\u4E4B\u95F4\u7684\u901A\u4FE1\u50CF\u4E0B\u9762\u8FD9\u6837\u5C31\u592A\u6DF7\u4E71\u4E86</p><p><img src="https://tva1.sinaimg.cn/large/008i3skNgy1gzdbkw1pbwj30r40l20ty.jpg" alt=""></p><h2 id="\u5B9E\u73B0" tabindex="-1">\u5B9E\u73B0 <a class="header-anchor" href="#\u5B9E\u73B0" aria-hidden="true">#</a></h2><p>\u4E2D\u4ECB\u6A21\u5F0F\u7684\u4E00\u4E2A\u5F88\u597D\u7684\u7528\u4F8B\u662F\u804A\u5929\u5BA4!\u804A\u5929\u5BA4\u5185\u7684\u7528\u6237\u4E0D\u4F1A\u76F4\u63A5\u76F8\u4E92\u4EA4\u8C08\u3002\u76F8\u53CD\uFF0C\u804A\u5929\u5BA4\u5145\u5F53\u7528\u6237\u4E4B\u95F4\u7684\u4E2D\u4ECB\u3002</p><p><img src="https://tva1.sinaimg.cn/large/008i3skNgy1gzdbkuuz0tj30qm0l03ze.jpg" alt=""></p><div class="language-js"><pre><code><span class="token keyword">class</span> <span class="token class-name">ChatRoom</span><span class="token punctuation">{</span>
    <span class="token function">logMessage</span><span class="token punctuation">(</span><span class="token parameter">user<span class="token punctuation">,</span>message</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> sender <span class="token operator">=</span> user<span class="token punctuation">.</span>name
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> [</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>sender<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">]: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>message<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">User</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>chatRoom</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>chatRoom<span class="token operator">=</span>chatRoom
    <span class="token punctuation">}</span>
    <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
    <span class="token punctuation">}</span>
    <span class="token function">send</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>chatRoom<span class="token punctuation">.</span><span class="token function">logMessage</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>message<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> chatRoom <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChatRoom</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> user1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&#39;sudongyu&#39;</span><span class="token punctuation">,</span>chatRoom<span class="token punctuation">)</span>
<span class="token keyword">const</span> user2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&#39;zhangsan&#39;</span><span class="token punctuation">,</span>chatRoom<span class="token punctuation">)</span>
user1<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;hello zhangsan&#39;</span><span class="token punctuation">)</span>
user2<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;hello sudongyu~&#39;</span><span class="token punctuation">)</span>


</code></pre></div><h2 id="express-js" tabindex="-1">Express.js <a class="header-anchor" href="#express-js" aria-hidden="true">#</a></h2><blockquote><p>Express.js\u662F\u4E00\u4E2A\u6D41\u884C\u7684web\u5E94\u7528\u670D\u52A1\u5668\u6846\u67B6\u3002\u6211\u4EEC\u53EF\u4EE5\u4E3A\u7528\u6237\u53EF\u4EE5\u8BBF\u95EE\u7684\u67D0\u4E9B\u8DEF\u7531\u6DFB\u52A0\u4E2D\u95F4\u4EF6</p></blockquote><p>\u6BCF\u6B21\u7528\u6237\u8BBF\u95EE\u6839\u7AEF\u70B9&#39;/&#39;\u65F6\uFF0C\u5C06\u8C03\u7528\u4E24\u4E2A\u4E2D\u95F4\u4EF6\u56DE\u8C03\u3002</p><div class="language-jsx"><pre><code><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;express&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> html <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./data&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
    <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      req<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">&quot;test-header&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1234</span><span class="token punctuation">;</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Request has test header: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token operator">!</span><span class="token operator">!</span>req<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">&quot;test-header&quot;</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;text/html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Server is running on 8080&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="\u603B\u7ED3" tabindex="-1">\u603B\u7ED3 <a class="header-anchor" href="#\u603B\u7ED3" aria-hidden="true">#</a></h2><p>\u901A\u8FC7\u8BA9\u6240\u6709\u7684\u901A\u4FE1\u90FD\u901A\u8FC7\u4E00\u4E2A\u4E2D\u5FC3\u70B9\uFF0C\u4E2D\u95F4\u4EF6\u6A21\u5F0F\u4F7F\u6211\u4EEC\u7B80\u5316\u4E86\u5BF9\u8C61\u4E4B\u95F4\u7684\u591A\u5BF9\u591A\u5173\u7CFB\u3002</p>`,16),e=[o];function c(u,l,i,k,r,d){return a(),s("div",null,e)}var m=n(p,[["render",c]]);export{h as __pageData,m as default};
